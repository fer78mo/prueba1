# =============================================================================
# CONFIGURACIÓN RAG JURÍDICO - PLANTILLA DE VARIABLES DE ENTORNO
# =============================================================================
# Copia este archivo como .env y personaliza los valores según tu entorno

# =============================================================================
# CONFIGURACIÓN DE SERVICIOS EXTERNOS
# =============================================================================

# Qdrant Vector Database
QDRANT_HOST=ia_qdrant
QDRANT_PORT=6333
QDRANT_API_KEY=

# Ollama LLM Service  
OLLAMA_HOST=ia_ollama_1
OLLAMA_PORT=11434
OLLAMA_DEFAULT_MODEL=llama2

# =============================================================================
# CONFIGURACIÓN ANTI-SESGO Y VALIDACIÓN
# =============================================================================

# Activar sistema anti-sesgo para respuestas de múltiple opción
ANTI_BIAS_MODE=true

# Número de pasadas de validación anti-sesgo (1-10)
MC_VALIDATION_PASSES=3

# Umbral mínimo de confianza para respuestas (0.0-1.0)
MIN_CONFIDENCE_THRESHOLD=0.6

# Activar fallback de retrieval cuando no hay resultados suficientes
FALLBACK_RETRIEVAL=true

# =============================================================================
# CONFIGURACIÓN DE LOGGING Y DEBUG
# =============================================================================

# Activar logging detallado de validación
VALIDATION_DETAILED_LOGGING=true

# Mostrar resaltado de texto en outputs
HIGHLIGHT_IN_OUTPUT=true

# Nivel de log (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# =============================================================================
# CONFIGURACIÓN DE PERFORMANCE
# =============================================================================

# Longitud mínima para textos cortos en fallback
FALLBACK_MINLEN_SHORT=30

# Longitud mínima para textos largos en fallback  
FALLBACK_MINLEN_LONG=45

# Modo estricto de citaciones legales
STRICT_CITATION=false

# Modo estricto de guardia legal
STRICT_LAW_GUARD=false

# =============================================================================
# CONFIGURACIÓN DE APLICACIÓN
# =============================================================================

# Puerto para API REST (si aplica)
API_PORT=8000

# Host para API REST
API_HOST=0.0.0.0

# Nombre del contenedor principal
RAG_CONTAINER=app-rag

# =============================================================================
# CONFIGURACIÓN DE VALIDACIÓN AVANZADA
# =============================================================================

# Colección por defecto en Qdrant
DEFAULT_COLLECTION=juridico

# Directorio por defecto para preguntas
DEFAULT_QUESTIONS_DIR=data/preguntas

# Directorio de salida para reportes de validación
VALIDATION_OUTPUT_DIR=/app/output/validation

# Directorio de salida para logs
LOGS_OUTPUT_DIR=/app/output/logs

# =============================================================================
# CONFIGURACIÓN DE DESARROLLO
# =============================================================================

# Modo de desarrollo (activa features adicionales)
DEV_MODE=false

# Directorio temporal para desarrollo
DEV_TEMP_DIR=/tmp/rag_dev

# Activar recarga automática de código (desarrollo)
AUTO_RELOAD=false

# =============================================================================
# CONFIGURACIÓN DE MONITOREO
# =============================================================================

# Intervalo de monitoreo de salud del sistema (segundos)
HEALTH_CHECK_INTERVAL=300

# Umbral de uso de memoria para alertas (%)
MEMORY_ALERT_THRESHOLD=80

# Umbral de uso de CPU para alertas (%)
CPU_ALERT_THRESHOLD=85

# Umbral de uso de disco para alertas (%)
DISK_ALERT_THRESHOLD=90

# =============================================================================
# CONFIGURACIÓN DE EMBEDDINGS
# =============================================================================

# Modelo de embeddings por defecto
EMBEDDING_MODEL=all-MiniLM-L6-v2

# Dimensión de vectores (debe coincidir con el modelo)
EMBEDDING_DIMENSION=384

# Tamaño de batch para procesamiento de embeddings
EMBEDDING_BATCH_SIZE=32

# =============================================================================
# CONFIGURACIÓN DE RETRIEVAL
# =============================================================================

# Número máximo de documentos a recuperar
MAX_RETRIEVAL_DOCS=10

# Score mínimo para considerar un documento relevante
MIN_RETRIEVAL_SCORE=0.7

# Usar re-ranking de documentos
USE_RERANKING=true

# =============================================================================
# CONFIGURACIÓN DE CACHE
# =============================================================================

# Activar cache de embeddings
USE_EMBEDDING_CACHE=true

# Directorio de cache
CACHE_DIR=/app/cache

# TTL de cache en segundos (24 horas)
CACHE_TTL=86400

# =============================================================================
# CONFIGURACIÓN DE SEGURIDAD
# =============================================================================

# Token de API (si se requiere autenticación)
API_TOKEN=

# Activar CORS para API
ENABLE_CORS=true

# Dominios permitidos para CORS (separados por coma)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# CONFIGURACIÓN DE BACKUP
# =============================================================================

# Directorio de backups
BACKUP_DIR=/app/backup

# Retener backups por días
BACKUP_RETENTION_DAYS=30

# Activar backup automático
AUTO_BACKUP=false

# =============================================================================
# NOTAS DE CONFIGURACIÓN
# =============================================================================

# 1. Los valores booleanos usan 'true'/'false' (lowercase)
# 2. Los valores numéricos no requieren comillas
# 3. Las rutas deben ser absolutas dentro del contenedor
# 4. Las variables de servicios deben coincidir con docker-compose.yml
# 5. Para producción, cambia las credenciales por defecto
# 6. Los logs detallados pueden impactar performance en producción